valgrind --leak-check=full ./bin/test_shrink 
==3763== Memcheck, a memory error detector
==3763== Copyright (C) 2002-2022, and GNU GPL'd, by Julian Seward et al.
==3763== Using Valgrind-3.22.0 and LibVEX; rerun with -h for copyright info
==3763== Command: ./bin/test_shrink
==3763==
PASS: Pool creation
PASS: Initial capacity
PASS: Initial used count
PASS: Acquire obj1
PASS: Acquire obj2
PASS: Used count after 2 acquires
PASS: Pool shrink by 2
PASS: Capacity after shrink
PASS: obj1 unchanged after shrink
PASS: obj2 unchanged after shrink
PASS: Acquire obj3 after shrink
PASS: obj3 initialized
PASS: Acquire obj4 after shrink
PASS: obj4 initialized
PASS: Used count after 4 acquires
PASS: Pool exhausted after shrink
PASS: Release obj1
PASS: Release obj2
PASS: Release obj3
PASS: Release obj4
PASS: Used count after releases
PASS: Shrink count incremented
PASS: Total objects allocated
PASS: Used count before shrink attempt
PASS: Shrink by more than unused fails
PASS: Capacity unchanged after failed shrink
PASS: Error reported for insufficient unused
PASS: Shrink by zero fails
PASS: Capacity unchanged after zero shrink
PASS: Error reported for zero shrink
Invalid pool or size
PASS: Shrink with NULL pool fails
==3763== 
==3763== HEAP SUMMARY:
==3763==     in use at exit: 0 bytes in 0 blocks
==3763==   total heap usage: 18 allocs, 18 frees, 2,346 bytes allocated
==3763==
==3763== All heap blocks were freed -- no leaks are possible
==3763==
==3763== For lists of detected and suppressed errors, rerun with: -s
==3763== ERROR SUMMARY: 0 errors from 0 contexts (suppressed: 0 from 0)