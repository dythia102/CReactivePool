valgrind --leak-check=full ./bin/test_max_used 
==91176== Memcheck, a memory error detector
==91176== Copyright (C) 2002-2022, and GNU GPL'd, by Julian Seward et al.
==91176== Using Valgrind-3.22.0 and LibVEX; rerun with -h for copyright info
==91176== Command: ./bin/test_max_used
==91176==
PASS: Pool creation
PASS: Initial used count
PASS: Initial max_used
PASS: Acquire object
PASS: Used count after acquire
PASS: Max used after acquire
PASS: Acquire object
PASS: Used count after acquire
PASS: Max used after acquire
PASS: Acquire object
PASS: Used count after acquire
PASS: Max used after acquire
PASS: Used count after release
PASS: Max used after release
PASS: Acquire object
PASS: Used count after acquire
PASS: Max used after acquire
PASS: Acquire object
PASS: Used count after acquire
PASS: Max used after acquire
PASS: Used count after all releases
PASS: Max used after all releases
PASS: Acquire object
PASS: Acquire object
PASS: Used count after acquiring 2
PASS: Max used after acquiring 2
==91176== 
==91176== HEAP SUMMARY:
==91176==     in use at exit: 0 bytes in 0 blocks
==91176==   total heap usage: 12 allocs, 12 frees, 2,196 bytes allocated
==91176==
==91176== All heap blocks were freed -- no leaks are possible
==91176==
==91176== For lists of detected and suppressed errors, rerun with: -s
==91176== ERROR SUMMARY: 0 errors from 0 contexts (suppressed: 0 from 0)